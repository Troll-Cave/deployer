{
  "variables": [{
    "name": "user"
  }],
  "steps": [
    {
      "name": "run",
      "locals": [{
        "name": "bar"
      }],
      "type": "command",
      "actions": [{
        "command": "echo ${locals.bar}\ncat Dockerfile"
      }]
    },
    {
      "name": "run2",
      "locals": [{
        "name": "bar"
      }],
      "type": "command",
      "actions": [{
        "command": "echo ${locals.bar}\ncat Dockerfile"
      }]
    }
  ],
  "flow": [
    {
      "step": "run",
      "locals": {
        "bar": "${variables.user}"
      }
    },
    {
      "step": "run2",
      "locals": {
        "bar": "steve"
      },
      "dependsOn": [
        "run"
      ]
    }
  ],
  "files": [{
    "name": "dockerfile",
    "location": "Dockerfile"
  }]
}